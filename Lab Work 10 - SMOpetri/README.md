# Lab Work: Petri Net Simulation of FIFO and LIFO Queues

## Цель работы
Реализовать имитацию работы системы обслуживания заявок с использованием **сети Петри**.  
Программа моделирует две очереди — **FIFO** и **LIFO** — с несколькими серверами и ограниченной ёмкостью очередей.  

## Принцип работы

- **Сеть Петри**:  
  - Места (`places`) моделируют состояния системы (очереди, свободные и занятые серверы, завершённые заявки).  
  - Переходы (`transitions`) отражают события: начало обслуживания, завершение обслуживания.  
  - Маркировка (`tokens`) показывает количество заявок в каждом месте.  

- **FIFO и LIFO**:  
  - FIFO (First-In-First-Out) — заявки обрабатываются в порядке поступления.  
  - LIFO (Last-In-First-Out) — заявки обрабатываются последними пришедшими первыми.  

- **Симуляция заявок**:  
  - Заявки приходят случайным образом по экспоненциальному распределению.  
  - Если сервер свободен, заявка сразу обрабатывается; если нет — ставится в очередь (при переполнении — отбрасывается).  
  - Время обслуживания каждой заявки выбирается случайным образом с заданным средним.  

- **Петрина сеть управляет**:  
  - Началом и окончанием обработки заявок.  
  - Подсчётом завершённых заявок и отслеживанием занятых серверов.  

## Возможности программы

- Настройка количества серверов, скорости симуляции и интенсивности заявок.  
- Визуализация:  
  - **График загруженности** FIFO и LIFO.  
  - **Схема сети Петри** с токенами (маркировкой).  
  - **Матрицы входов и выходов** для каждого перехода.  
- Подробная статистика:  
  - Количество пришедших заявок.  
  - Обслуженные заявки FIFO и LIFO.  
  - Отброшенные заявки.  

## Особенности реализации

- Используется объект `PetriNet` с методами `fire()`, `isEnabled()`, `inc()`, `dec()`.  
- Переходы и матрицы (`inputMatrix`, `outputMatrix`) полностью описывают логику сети.  
- Анимация токенов для визуализации движения заявок между местами.  
- Асинхронный основной цикл симуляции с `requestAnimationFrame`.  

## Управление симуляцией

- **Start** — запуск симуляции.  
- **Stop** — пауза симуляции.  
- **Reset** — сброс системы в начальное состояние.  
- Ползунки для настройки: скорость, интенсивность заявок, среднее время обслуживания.  

## Интерфейс

- Панель управления с кнопками и ползунками.  
- Карточки для FIFO и LIFO с отображением очереди и состояния серверов.  
- График загруженности заявок.  
- Канвас с визуализацией сети Петри.  
- Таблица матриц входов и выходов переходов.  
- Маркировка (текущее количество токенов в местах).

## Использование

1. Открыть HTML-файл в браузере.  
2. Настроить параметры симуляции (скорость, интенсивность, среднее время обслуживания).  
3. Нажать **Start** для запуска.  
4. Наблюдать графики, канвас и статистику.  
5. При необходимости — **Stop** или **Reset**.  
