# Lab Work: Markov Chain Text Generation & KMP Search Automaton

## Цель работы

Реализовать пошаговый и автоматический генератор текста на основе цепей Маркова с визуализацией процесса и пошаговым поиском подстроки с использованием алгоритма Кнута–Морриса–Пратта (KMP).

Автомат управления генерацией текста и поиска позволяет отслеживать состояния на каждом шаге работы системы.

---

## Принцип работы

### Генерация текста (Markov Chain FSM)

- Автомат находится в состоянии ожидания начала генерации.
- Пользователь выбирает начальное слово и количество слов для генерации.
- Автомат пошагово выбирает следующее слово:
  - На основе вероятностей переходов цепей Маркова.
  - Если переходов нет — выбирается случайное слово из всех слов текста.
- Автомат сохраняет сгенерированные слова и обновляет прогресс-бар.
- Генерация завершается, когда достигнуто заданное количество слов.

### Поиск подстроки (KMP Search FSM)

- Алгоритм KMP выполняет пошаговый поиск подстроки в сгенерированном тексте.
- Автомат KMP проходит следующие состояния:
  - `Idle` — ожидание начала поиска
  - `ComputingPrefix` — вычисление префикс-функции
  - `Searching` — поиск подстроки в тексте
  - `Completed` / `NotFound` — завершение поиска
- Отображается прогресс поиска, количество сравнений, текущие индексы и префикс-функция.

---

## Особенности реализации

- Использование конечных автоматов (FSM) для управления генерацией текста и поиска.
- Пошаговое и автоматическое выполнение с визуализацией текущего состояния.
- Автомат генерации хранит:
  - Текущее слово
  - Выбранное слово
  - Вероятность выбора
  - Доступные переходы
- Автомат KMP показывает:
  - Текущие индексы в тексте и паттерне
  - Количество сравнений
  - Шаги вычисления префикс-функции
- Поддержка ручного и автоматического режимов генерации текста.

---

## Возможности программы

- Анализ текста для построения цепей Маркова:
  - Частота слов
  - Вероятность переходов между словами
- Пошаговая генерация текста и автоматическая генерация с прогрессом
- Пошаговый поиск подстроки с визуализацией алгоритма KMP
- Отображение таблиц переходов, вероятностей и статистики слов
- Возможность фильтровать слова и выбирать начальное слово для генерации

---

## Использование

1. Откройте `index.html` в браузере.
2. Введите или загрузите текст для анализа.
3. Нажмите **Анализ текста** для построения статистики цепей Маркова.
4. Выберите начальное слово и количество слов для генерации текста.
5. Генерируйте текст:
   - Пошагово — нажимая `Generate Step`
   - Автоматически — включив `Start Auto`
6. Введите подстроку для поиска и запустите KMP поиск.
7. Следите за прогрессом, шагами и результатами генерации и поиска.

---

## Визуализация

- Прогресс генерации текста отображается полосой прогресса.
- Таблицы показывают:
  - Статистику слов
  - Доступные переходы
  - Результаты поиска
- Пошаговый поиск KMP визуализирует:
  - Текущий индекс текста и паттерна
  - Префикс-функцию
  - Найденные вхождения

---

## Примечание

- Для корректной работы генерации текста необходимо, чтобы проанализированный текст содержал минимум 2 слова.
- В KMP поиск можно вводить любую подстроку текста.
